(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{356:function(t,a,s){"use strict";s.r(a);var r=s(42),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"添加任务模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加任务模块"}},[t._v("#")]),t._v(" 添加任务模块")]),t._v(" "),s("h2",{attrs:{id:"功能介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍"}},[t._v("#")]),t._v(" 功能介绍")]),t._v(" "),s("p",[t._v("该任务模块包括HTTP、SQL、Redis、MQ、Mongo共5个子模块，这些任务模块可单独执行，也可按照一定顺序组合形成测试用例。")]),t._v(" "),s("h2",{attrs:{id:"一、配置环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、配置环境"}},[t._v("#")]),t._v(" 一、配置环境")]),t._v(" "),s("p",[t._v("在最开始时，需要先配置环境，由于平时工作中可能会有多套环境对应不同的接口域名或者数据库IP地址等，因此需要支持测试用例能够在不同环境都可以执行，此时需要进行环境配置。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("需要注意的是，mars项目部署所在的服务器和需要配置的sql、redis、rabbitMq、mongo等所在的服务器是要能够互相通信的。\n")])])]),s("p",[s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600508330/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE_bi5puh.png",alt:"环境配置"}})]),t._v(" "),s("h2",{attrs:{id:"二、http资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、http资源"}},[t._v("#")]),t._v(" 二、HTTP资源")]),t._v(" "),s("p",[t._v("HTTP资源模块主要用于添加HTTP协议的API,该功能模块类似于Postman,支持GET\\POST\\PUT\\DELETE方法，支持上传文件，支持gzip压缩，支持参数替换。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600504694/HTTP%E8%B5%84%E6%BA%90_n25ifm.png",alt:"http资源"}})]),t._v(" "),s("h3",{attrs:{id:"http资源参数替换规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http资源参数替换规则"}},[t._v("#")]),t._v(" http资源参数替换规则")]),t._v(" "),s("h4",{attrs:{id:"_1、全局变量替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、全局变量替换"}},[t._v("#")]),t._v(" 1、全局变量替换")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("在环境配置的全局变量部分设置全局变量，然后在引用处使用以下格式进行引用: \n#{env}\n")])])]),s("p",[s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600506829/%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F_fj96wh.png",alt:"全局变量"}})]),t._v(" "),s("h4",{attrs:{id:"_2、环境host变量替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、环境host变量替换"}},[t._v("#")]),t._v(" 2、环境host变量替换")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("在环境配置的HTTP部分设置http域名变量，然后在引用处使用name直接进行引用:\nnkp-service:9080/api/xxxx\n")])])]),s("p",[s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600507432/http%E5%8F%98%E9%87%8F_sgihii.png",alt:"http变量"}})]),t._v(" "),s("h4",{attrs:{id:"_3、body-heder-path变量替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、body-heder-path变量替换"}},[t._v("#")]),t._v(" 3、body\\heder\\path变量替换")]),t._v(" "),s("p",[t._v("设置变量格式： 在对应使用变量的位置设置"),s("code",[t._v("{mobile}")]),t._v("\n替换变量格式（YAML）：")]),t._v(" "),s("div",{staticClass:"language-Yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("http")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mobile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8371733"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mobile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"111"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("header")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("token")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AXXX"')]),t._v("\n")])])]),s("h3",{attrs:{id:"http资源运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http资源运行"}},[t._v("#")]),t._v(" http资源运行")]),t._v(" "),s("p",[t._v("可以通过左侧的快捷按钮进行执行，也可以通过右上角的运行按钮进行执行，执行结果会实时显示在下方。\n"),s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600508980/http%E6%89%A7%E8%A1%8C_yjfq1a.png",alt:"http执行"}})]),t._v(" "),s("h2",{attrs:{id:"三、sql资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、sql资源"}},[t._v("#")]),t._v(" 三、SQL资源")]),t._v(" "),s("p",[t._v("SQL资源模块主要用于操作数据库相关内容，支持执行select、update、insert、delete等基本的DML语句\n"),s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600509816/sql_iie7xz.png",alt:"SQL资源"}})]),t._v(" "),s("h3",{attrs:{id:"sql资源参数替换规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql资源参数替换规则"}},[t._v("#")]),t._v(" SQL资源参数替换规则")]),t._v(" "),s("p",[t._v("设置变量格式： 在对应使用变量的位置设置 "),s("code",[t._v("{mobile}")]),t._v("\n替换变量格式（YAML）：")]),t._v(" "),s("div",{staticClass:"language-Yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("statement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mobile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8371733"')]),t._v("\n")])])]),s("h2",{attrs:{id:"四、redis资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、redis资源"}},[t._v("#")]),t._v(" 四、Redis资源")]),t._v(" "),s("p",[t._v("Redis资源模块主要用于操作redis相关内容，支持基本的get、del操作,支持指定redis数据库\n"),s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600510217/redis_tsgmd8.png",alt:"redis"}})]),t._v(" "),s("h3",{attrs:{id:"redis资源参数替换规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis资源参数替换规则"}},[t._v("#")]),t._v(" redis资源参数替换规则")]),t._v(" "),s("p",[t._v("设置变量格式： 在对应使用变量的位置设置 "),s("code",[t._v("{mobile}")]),t._v("\n替换变量格式（YAML）：")]),t._v(" "),s("div",{staticClass:"language-Yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mobile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8371733"')]),t._v("\n")])])]),s("h2",{attrs:{id:"五、rabbitmq资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、rabbitmq资源"}},[t._v("#")]),t._v(" 五、RabbitMq资源")]),t._v(" "),s("p",[t._v("RabbitMq资源模块主要用于操作发送MQ消息相关内容\n"),s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600510405/mq_pberbv.png",alt:"mq"}})]),t._v(" "),s("h3",{attrs:{id:"rabbitmq资源参数替换规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq资源参数替换规则"}},[t._v("#")]),t._v(" RabbitMq资源参数替换规则")]),t._v(" "),s("p",[t._v("设置变量格式： 在对应使用变量的位置设置 "),s("code",[t._v("{mobile}")]),t._v("\n替换变量格式（YAML）：")]),t._v(" "),s("div",{staticClass:"language-Yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mq")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("applicationId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8371733"')]),t._v("\n")])])]),s("h2",{attrs:{id:"六、生成随机数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、生成随机数"}},[t._v("#")]),t._v(" 六、生成随机数")]),t._v(" "),s("p",[t._v("很多时候，我们希望每执行一次任务，里面的参数都是不同的，比如时间戳，比如唯一id等，希望每次运行时能随机生成，要做到这样很简单，只需要在各任务模块中使用{{}}占位符就可以了。\n随机数生成规则:\n"),s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600510989/%E9%9A%8F%E6%9C%BA%E6%95%B0_zzrbus.png",alt:"随机数"}}),t._v("\n随机时间戳生成规则：\n"),s("img",{attrs:{src:"https://res.cloudinary.com/dqhbr3uh3/image/upload/v1600511044/%E6%97%B6%E9%97%B4%E6%88%B3_ho0eqs.png",alt:"随机时间戳"}})]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("其中"+t._s(t.timestamp)+"为当前时间的时间戳格式\n"+t._s(t.timestampformat)+"为当前时间的YYYY-MM-DD HH:MM:SS格式\n")])])]),s("h2",{attrs:{id:"八、快捷操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、快捷操作"}},[t._v("#")]),t._v(" 八、快捷操作")]),t._v(" "),s("p",[t._v("所有资源在任务列表右侧都有对应的快捷操作按钮，有更新、运行、删除等，方便操作。")])])}),[],!1,null,null,null);a.default=e.exports}}]);